#!/usr/bin/env python3
from pwn import *

context.update(arch="amd64", timeout=2)

if args.GDB:  # debug: local exploit with tmux/gef
    context.terminal = ["tmux", "splitw", "-h"]
    p = gdb.debug(
        "./1-stack-01-ret2func",
        """
        source /home/ryan/.gdbinit-gef.py
        b *(_start)
        continue
        """,
    )
elif args.LOCAL:
    p = process("./1-stack-01-ret2func")
else:
    p = remote("cytech.tcdn.casa", 4101)

# --- payload ici ---
# p.sendline(b"...")
# print(p.recvall(timeout=1).decode())
p.interactive()
